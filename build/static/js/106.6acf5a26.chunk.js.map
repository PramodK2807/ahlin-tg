{"version":3,"file":"static/js/106.6acf5a26.chunk.js","mappings":"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","sources":["Components/Activity/ActivityEdit.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../Layout/Layout\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport {\r\n  ActivityDetails,\r\n  GetAllActivity,\r\n  SubActivityDetails,\r\n  UpdateActivity,\r\n} from \"../../adminHttpServices/dashHttpService\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst ActivityEdit = () => {\r\n  const [activityName, setActivityName] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [activityimages, setActivityimages] = useState([]);\r\n  const [files, setFiles] = useState([]);\r\n  const [activityId, setActivityId] = useState();\r\n  const [subActDetails, setSubActDetails] = useState();\r\n  const [activity, setActivity] = useState([]);\r\n  const { state } = useLocation();\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (state?.type === \"activity\") {\r\n      getActivityDetails();\r\n    }\r\n    if (state?.type === \"subActivity\") {\r\n      getActivity();\r\n      getSubActivityDetails();\r\n    }\r\n  }, []);\r\n\r\n  const getActivity = async () => {\r\n    try {\r\n      let { data } = await GetAllActivity();\r\n      if (data && !data?.error) {\r\n        setActivity(data?.results?.listActivity);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getActivityDetails = async () => {\r\n    try {\r\n      let { data } = await ActivityDetails(id);\r\n      if (data && !data?.error) {\r\n        console.log(data);\r\n        let values = data?.results?.details;\r\n        setActivityName(values?.activityName);\r\n        setActivityimages(values?.uploadImage || []);\r\n        setDate(values?.createdAt?.split(\"T\")[0]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const getSubActivityDetails = async () => {\r\n    try {\r\n      let { data } = await SubActivityDetails(id);\r\n      if (data && !data?.error) {\r\n        console.log(data);\r\n        let values = data?.results?.subactivity;\r\n        setSubActDetails(values);\r\n        setActivityName(values?.subactivityName);\r\n        setActivityimages(values?.uploadImage || []);\r\n        setActivityId(values?.activity?._id || []);\r\n        setDate(values?.createdAt?.split(\"T\")[0]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleFileSelection = (e) => {\r\n    const selectedFiles = Array.from(e.target.files);\r\n    setFiles((prevFiles) => [...prevFiles, ...selectedFiles]);\r\n\r\n    const filePreviews = selectedFiles.map((file) => URL.createObjectURL(file));\r\n    setActivityimages((prevImages) => [...prevImages, ...filePreviews]);\r\n  };\r\n\r\n  const handleUpdateActivity = async (e) => {\r\n    e.preventDefault();\r\n    if (activityName?.trim() === \"\") {\r\n      Swal.fire({\r\n        toast: true,\r\n        icon: \"error\",\r\n        position: \"top-end\",\r\n        title: \"Name is required\",\r\n        showConfirmButton: false,\r\n        timerProgressBar: true,\r\n        timer: 3000,\r\n      });\r\n      return false;\r\n    }\r\n    if (!date) {\r\n      Swal.fire({\r\n        toast: true,\r\n        icon: \"error\",\r\n        position: \"top-end\",\r\n        title: \"Date is required\",\r\n        showConfirmButton: false,\r\n        timerProgressBar: true,\r\n        timer: 3000,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      if (state?.type === \"activity\") {\r\n        formData.append(\"activityName\", activityName.trim());\r\n      }\r\n      if (state?.type === \"subActivity\") {\r\n        formData.append(\"subactivityName\", activityName.trim());\r\n        formData.append(\"activity\", activityId);\r\n      }\r\n\r\n      if (files) {\r\n        files.forEach((file) => {\r\n          formData.append(\"uploadImage\", file);\r\n        });\r\n      }\r\n      let { data } = await UpdateActivity(state?.api, id, formData);\r\n      if (data && !data?.error) {\r\n        navigate(-1);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout activeSlide={\"Activities\"}>\r\n      <div className=\"content-body\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-12\">\r\n              <div className=\"card profile-card card-bx m-b30\">\r\n                <div className=\"card-header\">\r\n                  <h6 className=\"title\">{state?.title}</h6>\r\n                </div>\r\n                <form className=\"profile-form\" onSubmit={handleUpdateActivity}>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      {state?.type === \"subActivity\" && (\r\n                        <div className=\"col-md-6 m-b30\">\r\n                          <label className=\"form-label\">\r\n                            Activity <sup className=\"mandatesign\">*</sup>\r\n                          </label>\r\n                          <select\r\n                            className=\"form-select py-3\"\r\n                            aria-label=\"Default select example\"\r\n                            onChange={(e) => setActivityId(e.target.value)}\r\n                            disabled={!state?.isEdit}\r\n                          >\r\n                            {activity &&\r\n                              activity?.map((item) => (\r\n                                <>\r\n                                  <option\r\n                                    selected={\r\n                                      subActDetails?.activity?._id === item?._id\r\n                                    }\r\n                                    value={item?._id}\r\n                                    key={item?._id}\r\n                                  >\r\n                                    {item?.activityName}\r\n                                  </option>\r\n                                </>\r\n                              ))}\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"col-md-6 m-b30\">\r\n                        <label className=\"form-label\">\r\n                          Name<sup className=\"mandatesign\">*</sup>\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          value={activityName}\r\n                          onChange={(e) => setActivityName(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6 m-b30\">\r\n                        <label className=\"form-label\">\r\n                          Added On<sup className=\"mandatesign\">*</sup>\r\n                        </label>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control\"\r\n                          value={date}\r\n                          onChange={(e) => setDate(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      {!state?.isEdit && (\r\n                        <div className=\"col-md-3 m-b30\">\r\n                          <label className=\"form-label\">\r\n                            Activities<sup className=\"mandatesign\">*</sup>\r\n                          </label>\r\n                          <div className=\"row\">\r\n                            {activityimages &&\r\n                              activityimages?.map((images, index) => (\r\n                                <img\r\n                                  src={images}\r\n                                  alt=\"act\"\r\n                                  style={{ width: \"80px\", height: \"80px\" }}\r\n                                  className=\"border rounded object-fit-contain\"\r\n                                />\r\n                              ))}\r\n                          </div>\r\n                          {/* <div className=\"d-flex justify-content-between flex-wrap\">\r\n                            <div className=\"border p-2\">\r\n                              <h5 className=\"text-center bg-body-secondary p-1\">\r\n                                Wildlife Viewing\r\n                              </h5>\r\n                            </div>\r\n                          </div> */}\r\n                        </div>\r\n                      )}\r\n                      {state?.isEdit && (\r\n                        <>\r\n                          <div className=\"col-12 m-b30\">\r\n                            <p className=\"form-label\">Upload Images</p>\r\n                            <label\r\n                              htmlFor=\"images\"\r\n                              className=\"p-2 upload_label text-center m-auto w-100\"\r\n                            >\r\n                              <div className=\"mt-1\">\r\n                                <i\r\n                                  className=\"fa fa-cloud-upload-alt\"\r\n                                  aria-hidden=\"true\"\r\n                                ></i>\r\n                                <span> Upload multiple images</span>\r\n                              </div>\r\n                              <div className=\"row\">\r\n                                {activityimages &&\r\n                                  activityimages.map((image, index) => (\r\n                                    <div className=\"col-3\" key={index}>\r\n                                      <img\r\n                                        src={image}\r\n                                        alt=\"preview\"\r\n                                        className=\"activity_image w-100\"\r\n                                      />\r\n                                    </div>\r\n                                  ))}\r\n                              </div>\r\n                              <input\r\n                                type=\"file\"\r\n                                multiple\r\n                                className=\"d-none w-100\"\r\n                                name=\"images\"\r\n                                id=\"images\"\r\n                                accept=\".jpeg, .png, .jpg\"\r\n                                onChange={handleFileSelection}\r\n                              />\r\n                            </label>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {state?.isEdit && (\r\n                    <div className=\"card-footer\">\r\n                      <button className=\"btn btn-primary\">Save</button>\r\n                    </div>\r\n                  )}\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ActivityEdit;\r\n"],"names":["ActivityEdit","activityName","setActivityName","useState","date","setDate","activityimages","setActivityimages","files","setFiles","activityId","setActivityId","subActDetails","setSubActDetails","activity","setActivity","state","useLocation","id","useParams","navigate","useNavigate","useEffect","type","getActivityDetails","getActivity","getSubActivityDetails","async","data","GetAllActivity","_data$results","error","results","listActivity","console","log","ActivityDetails","_data$results2","_values$createdAt","values","details","uploadImage","createdAt","split","SubActivityDetails","_data$results3","_values$activity","_values$createdAt2","subactivity","subactivityName","_id","_jsx","Layout","activeSlide","children","className","_jsxs","title","onSubmit","e","preventDefault","trim","Swal","toast","icon","position","showConfirmButton","timerProgressBar","timer","formData","FormData","append","forEach","file","UpdateActivity","api","onChange","target","value","disabled","isEdit","map","item","_subActDetails$activi","_Fragment","selected","images","index","src","alt","style","width","height","htmlFor","image","multiple","name","accept","selectedFiles","Array","from","prevFiles","filePreviews","URL","createObjectURL","prevImages"],"sourceRoot":""}