"use strict";(self.webpackChunkahlin=self.webpackChunkahlin||[]).push([[812],{9812:(e,a,l)=>{l.r(a),l.d(a,{default:()=>m});var s=l(5043),i=l(6068),t=l(7694),d=l(4299),n=l(5475),o=l(6178),c=l.n(o),r=l(579);const m=()=>{const[e,a]=(0,s.useState)({columns:[{label:"S.No.",field:"sno",width:50,selected:!1},{label:"Subscription Name ",field:"name",width:50,selected:!1},{label:"Plan cost",field:"cost",width:50,selected:!1},{label:" Number of Subscribers",field:"number",width:50,selected:!1},{label:"Status",field:"status",width:50,selected:!1},{label:"Actions",field:"actions",width:100,selected:!1}],rows:[]});(0,s.useEffect)((()=>{l()}),[]);const l=async()=>{let{data:l}=await(0,d.z6)();if(console.warn(l),l&&(null===l||void 0===l||!l.error)){var s,i,t;const d=[];let b=null===l||void 0===l||null===(s=l.results)||void 0===s||null===(i=s.groupedPlan[0])||void 0===i?void 0:i.plan;null===b||void 0===b||null===(t=b.sort(((e,a)=>new Date(null===a||void 0===a?void 0:a.updatedAt)-new Date(null===e||void 0===e?void 0:e.updatedAt))))||void 0===t||t.map(((e,a)=>{const l={};l.sno=a+1,l.name=(null===e||void 0===e?void 0:e.plan)||"NA",l.date=c()(null===e||void 0===e?void 0:e.createdAt).format("Do MMMM YYYY"),l.cost=(null===e||void 0===e?void 0:e.price)||"NA",l.number=(null===e||void 0===e?void 0:e.number)||"0",l.status=(0,r.jsxs)("div",{className:"check_toggle text-center",children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:null===e||void 0===e?void 0:e.status,name:"check1",id:null===e||void 0===e?void 0:e._id,className:"d-none",onClick:()=>{m(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.status)}}),(0,r.jsx)("label",{for:null===e||void 0===e?void 0:e._id})]},null===e||void 0===e?void 0:e._id),l.actions=(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)(n.N_,{to:"/Subscription-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"Edit Subscription Details",isEdit:!0,data:e},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,r.jsx)("i",{className:"fa fa-edit"})}),(0,r.jsx)(n.N_,{to:"/Subscription-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"View Subscription Details",isEdit:!1,data:e},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,r.jsx)("i",{className:"fa fa-eye"})}),(0,r.jsx)("button",{type:"button",onClick:()=>o(null===e||void 0===e?void 0:e._id),className:"btn btn-danger shadow btn-xs sharp",children:(0,r.jsx)("i",{className:"fa fa-trash"})})]}),d.push(l)})),a({...e,rows:d})}},o=async e=>{try{let{data:a}=await(0,d.TO)(e);a&&!a.error&&l()}catch(a){console.log(a)}},m=async e=>{try{let{data:a}=await(0,d.o2)(e);a&&!a.error&&l()}catch(a){console.log(a)}};return(0,r.jsx)(i.A,{activeSlide:"Subscription",children:(0,r.jsxs)("div",{className:"content-body",children:[(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xl-12 pt-4",children:(0,r.jsxs)("div",{className:"card dz-card",id:"bootstrap-table1",children:[(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-end mt-2 me-2",children:(0,r.jsx)(n.N_,{to:"/Add-Subscription",state:{title:"Add Subscription",data:null},className:"btn btn-primary ",style:{width:"200px"},children:"Add New Subscription"})}),(0,r.jsxs)("div",{className:"col-12 card-body position-relative card-body-2",children:[(0,r.jsx)("div",{className:"card_title_container",children:(0,r.jsx)("h4",{className:"card-title",children:"Subscription Plan Management"})}),(0,r.jsx)("div",{className:"search_icon",children:(0,r.jsx)("i",{class:"fa-solid fa-magnifying-glass"})}),(0,r.jsx)("div",{className:"d-flex filter_modal",children:(0,r.jsx)("button",{type:"button",className:"btn filter_manage px-3 py-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal","data-bs-whatever":"@mdo",children:(0,r.jsx)("i",{className:"fa-solid fa-filter"})})}),(0,r.jsx)("div",{className:"table-responsive mdb_table",children:(0,r.jsx)(t.g6D,{bordered:!0,displayEntries:!1,entries:10,className:"text-nowrap",hover:!0,data:e,noBottomColumns:!0,sortable:!0,paginationLabel:"\xab\xbb"})})]})]})})})}),(0,r.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,r.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:(0,r.jsxs)("div",{class:"modal-content",children:[(0,r.jsxs)("div",{class:"modal-header",children:[(0,r.jsx)("h1",{class:"modal-title fs-3 fw-semibold",id:"exampleModalLabel",children:"Filter"}),(0,r.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,r.jsx)("div",{class:"modal-body",children:(0,r.jsx)("div",{class:"row",children:(0,r.jsxs)("div",{class:"col-md-7 pt-2",children:[(0,r.jsx)("label",{for:"message-text",class:"col-form-label",children:"Status"}),(0,r.jsxs)("div",{class:"d-flex justify-content-between",children:[(0,r.jsxs)("div",{class:"form-check",children:[(0,r.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),(0,r.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:"Active"})]}),(0,r.jsxs)("div",{class:"form-check ms-4",children:[(0,r.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",checked:!0}),(0,r.jsx)("label",{class:"form-check-label",for:"flexRadioDefault2",children:"Inactive"})]})]})]})})}),(0,r.jsxs)("div",{class:"modal-footer",children:[(0,r.jsx)("button",{type:"button",class:"btn btn-secondary me-5","data-bs-dismiss":"modal",children:"Close"}),(0,r.jsx)("button",{type:"button",class:"btn btn-primary",children:"Save"})]})]})})})]})})}}}]);
//# sourceMappingURL=812.13188ca6.chunk.js.map