"use strict";(self.webpackChunkahlin=self.webpackChunkahlin||[]).push([[542],{9542:(e,l,i)=>{i.r(l),i.d(l,{default:()=>u});var a=i(5043),s=i(6068),t=i(7694),r=i(4299),d=i(5475),o=i(6178),n=i.n(o),c=i(579);const v=()=>{var e,l,i,s,o,v;const[m,u]=(0,a.useState)(""),[h,b]=(0,a.useState)(),[p,x]=(0,a.useState)({}),[y,f]=(0,a.useState)({columns:[{label:"S.No.",field:"sno",width:50,selected:!1},{label:"Activity",field:"activity",width:50,selected:!1},{label:"Logo",field:"logo",width:50,selected:!1},{label:"Added On",field:"date",width:100,selected:!1},{label:"Status",field:"status",width:50,selected:!1},{label:"Actions",field:"actions",width:100,selected:!1}],rows:[]});(0,a.useEffect)((()=>{N()}),[]);const g=!(null!==(e=p.nameError)&&void 0!==e&&e.isError)&&!(null!==(l=p.fileError)&&void 0!==l&&l.isError)&&m.trim().length>0&&null!==h,N=async()=>{let{data:e}=await(0,r.fC)();if(e&&(null===e||void 0===e||!e.error)){var l,i;const a=[];let s=null===e||void 0===e||null===(l=e.results)||void 0===l?void 0:l.listActivity;null===s||void 0===s||null===(i=s.sort(((e,l)=>new Date(null===l||void 0===l?void 0:l.updatedAt)-new Date(null===e||void 0===e?void 0:e.updatedAt))))||void 0===i||i.map(((e,l)=>{const i={};i.sno=l+1,i.activity=(null===e||void 0===e?void 0:e.activityName)||"NA",i.date=n()(null===e||void 0===e?void 0:e.createdAt).format("Do MMMM YYYY"),i.logo=(0,c.jsx)("span",{children:(0,c.jsx)("img",{height:25,width:25,className:"rounded border",src:null===e||void 0===e?void 0:e.uploadImage[0],alt:""})}),i.status=(0,c.jsxs)("div",{className:"check_toggle text-center",children:[(0,c.jsx)("input",{type:"checkbox",defaultChecked:null===e||void 0===e?void 0:e.status,name:"check1",id:null===e||void 0===e?void 0:e._id,className:"d-none",onClick:()=>{E(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.status)}}),(0,c.jsx)("label",{for:null===e||void 0===e?void 0:e._id})]},null===e||void 0===e?void 0:e._id),i.actions=(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)(d.N_,{to:"/Activity-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"Edit Activity Details",isEdit:!0,type:"activity",api:"editActivity"},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,c.jsx)("i",{className:"fa fa-edit"})}),(0,c.jsx)(d.N_,{to:"/Activity-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"View Activity Details",isEdit:!1,type:"activity"},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,c.jsx)("i",{className:"fa fa-eye"})}),(0,c.jsx)("button",{type:"button",onClick:()=>j(null===e||void 0===e?void 0:e._id),className:"btn btn-danger shadow btn-xs sharp",children:(0,c.jsx)("i",{className:"fa fa-trash"})})]}),a.push(i)})),f({...y,rows:a})}},j=async e=>{try{let{data:l}=await(0,r.Z7)(e);l&&!l.error&&N()}catch(l){console.log(l)}},E=async e=>{try{let{data:l}=await(0,r.Kj)(e);l&&!l.error&&N()}catch(l){console.log(l)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{let e=new FormData;console.log(h),e.append("activityName",m),e.append("uploadImage",h);let{data:l}=await(0,r.qk)(e);!l||null!==l&&void 0!==l&&l.error||(u(""),document.getElementById("reset").click(),b([]),N())}catch(l){console.log(l)}},children:(0,c.jsxs)("div",{className:"p-4 mt-4 border rounded",children:[(0,c.jsx)("h4",{children:"ADD NEW ACTIVITY"}),(0,c.jsxs)("div",{className:"row pt-4",children:[(0,c.jsxs)("div",{className:"col-md-6 m-b30",children:[(0,c.jsxs)("label",{className:"form-label",children:["Enter Activity Name",(0,c.jsx)("sup",{className:"mandatesign",children:"*"})]}),(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>(e=>{let l=e.target.value;u(l),l.trim().length<=3?x({...p,nameError:{isError:!0,message:"Please enter more than 3 characters"}}):x({...p,nameError:{isError:!1}})})(e)}),(null===p||void 0===p||null===(i=p.nameError)||void 0===i?void 0:i.isError)&&(0,c.jsx)("p",{className:"text-danger",children:null===p||void 0===p||null===(s=p.nameError)||void 0===s?void 0:s.message})]}),(0,c.jsxs)("div",{className:"col-md-6 m-b30",children:[(0,c.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Upload Image (Please upload a 20px * 20px image.)"}),(0,c.jsx)("input",{className:"form-control",type:"file",id:"formFile",onChange:e=>{const l=e.target.files[0];if(b(l),l){["image/jpeg","image/png","image/gif"].includes(l.type)?l.size>2097152?x((e=>({...e,fileError:{isError:!0,message:"File size must be under 2MB."}}))):x((e=>({...e,fileError:{isError:!1}}))):x((e=>({...e,fileError:{isError:!0,message:"Only JPEG, PNG, or GIF files are allowed."}})))}else x((e=>({...e,fileError:{isError:!0,message:"Please upload a file."}})))},multiple:!0}),(null===p||void 0===p||null===(o=p.fileError)||void 0===o?void 0:o.isError)&&(0,c.jsx)("p",{className:"text-danger",children:null===p||void 0===p||null===(v=p.fileError)||void 0===v?void 0:v.message})]}),(0,c.jsxs)("div",{className:"col-md-2 m-b30 pt-3",children:[(0,c.jsx)("button",{disabled:!g,type:"submit",className:"btn btn-primary rounded",children:"Save"}),(0,c.jsx)("button",{className:"d-none",type:"reset",id:"reset",children:"reset"})]})]})]})}),(0,c.jsx)("div",{className:"col-xl-12 pt-4",children:(0,c.jsx)("div",{className:"card dz-card",id:"bootstrap-table1",children:(0,c.jsxs)("div",{className:"col-12 card-body position-relative card-body-2",children:[(0,c.jsx)("div",{className:"card_title_container",children:(0,c.jsx)("h4",{className:"card-title",children:"ACTIVITY LIST"})}),(0,c.jsx)("div",{className:"search_icon",children:(0,c.jsx)("i",{class:"fa-solid fa-magnifying-glass"})}),(0,c.jsx)("div",{className:"table-responsive mdb_table",children:(0,c.jsx)(t.g6D,{bordered:!0,displayEntries:!1,entries:10,className:"text-nowrap",hover:!0,data:y,noBottomColumns:!0,sortable:!0,paginationLabel:"\xab\xbb"})})]})})})]})},m=()=>{var e,l,i,s,o,v,m,u,h;const[b,p]=(0,a.useState)(""),[x,y]=(0,a.useState)(),[f,g]=(0,a.useState)({}),[N,j]=(0,a.useState)([]),[E,w]=(0,a.useState)(),[A,S]=(0,a.useState)({columns:[{label:"S.No.",field:"sno",width:50,selected:!1},{label:"Sub Activity",field:"subActivity",width:50,selected:!1},{label:"Logo",field:"logo",width:50,selected:!1},{label:"Activity",field:"activity",width:50,selected:!1},{label:"Added On",field:"date",width:100,selected:!1},{label:"Status",field:"status",width:50,selected:!1},{label:"Actions",field:"actions",width:100,selected:!1}],rows:[]});(0,a.useEffect)((()=>{I(),_()}),[]);const _=async()=>{try{let{data:l}=await(0,r.fC)();var e;if(l&&(null===l||void 0===l||!l.error))j(null===l||void 0===l||null===(e=l.results)||void 0===e?void 0:e.listActivity)}catch(l){console.log(l)}},I=async()=>{let{data:e}=await(0,r.z1)();if(console.warn(e),e&&(null===e||void 0===e||!e.error)){var l,i;const a=[];let s=null===e||void 0===e||null===(l=e.results)||void 0===l?void 0:l.subactivities;null===s||void 0===s||null===(i=s.sort(((e,l)=>new Date(null===l||void 0===l?void 0:l.updatedAt)-new Date(null===e||void 0===e?void 0:e.updatedAt))))||void 0===i||i.map(((e,l)=>{var i;const s={};s.sno=l+1,s.subActivity=(null===e||void 0===e?void 0:e.subactivityName)||"NA",s.activity=(null===e||void 0===e||null===(i=e.activity)||void 0===i?void 0:i.activityName)||"NA",s.date=n()(null===e||void 0===e?void 0:e.createdAt).format("Do MMMM YYYY"),s.logo=(0,c.jsx)("span",{children:(0,c.jsx)("img",{height:25,width:25,className:"rounded border",src:null===e||void 0===e?void 0:e.uploadImage[0],alt:""})}),s.status=(0,c.jsxs)("div",{className:"check_toggle text-center",children:[(0,c.jsx)("input",{type:"checkbox",defaultChecked:null===e||void 0===e?void 0:e.status,name:"check1",id:null===e||void 0===e?void 0:e._id,className:"d-none",onClick:()=>{k(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.status)}}),(0,c.jsx)("label",{for:null===e||void 0===e?void 0:e._id})]},null===e||void 0===e?void 0:e._id),s.actions=(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)(d.N_,{to:"/Activity-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"Edit Sub Activity Details",isEdit:!0,type:"subActivity",api:"editSubActivity"},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,c.jsx)("i",{className:"fa fa-edit"})}),(0,c.jsx)(d.N_,{to:"/Activity-Management/Details/".concat(null===e||void 0===e?void 0:e._id),state:{title:"View Sub Activity Details",isEdit:!1,type:"subActivity"},className:"btn btn-primary shadow btn-xs sharp me-2",children:(0,c.jsx)("i",{className:"fa fa-eye"})}),(0,c.jsx)("button",{type:"button",onClick:()=>D(null===e||void 0===e?void 0:e._id),className:"btn btn-danger shadow btn-xs sharp",children:(0,c.jsx)("i",{className:"fa fa-trash"})})]}),a.push(s)})),S({...A,rows:a})}},C=!(null!==(e=f.nameError)&&void 0!==e&&e.isError)&&!(null!==(l=f.fileError)&&void 0!==l&&l.isError)&&b.trim().length>0&&!(null!==(i=f.selectError)&&void 0!==i&&i.isError),D=async e=>{try{let{data:l}=await(0,r.Lp)(e);l&&!l.error&&I()}catch(l){console.log(l)}},k=async e=>{try{let{data:l}=await(0,r.wU)(e);l&&!l.error&&I()}catch(l){console.log(l)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("form",{onSubmit:async e=>{e.preventDefault();try{let e=new FormData;console.log(x),e.append("subactivityName",b),e.append("activityId",E),e.append("uploadImage",x);let{data:l}=await(0,r.UT)(e);!l||null!==l&&void 0!==l&&l.error||(p(""),document.getElementById("resetSub").click(),y([]),I())}catch(l){console.log(l)}console.log(b,x,E)},children:(0,c.jsxs)("div",{className:"p-4 mt-4 border rounded",children:[(0,c.jsx)("h4",{children:"ADD NEW SUB ACTIVITY"}),(0,c.jsx)("div",{className:"row py-3",children:(0,c.jsxs)("div",{className:"col-md-3 m-b30",children:[(0,c.jsxs)("select",{className:"form-select py-3","aria-label":"Default select example",onChange:e=>{let l=e.target.value;w(l),g(void 0===l||""===l?e=>({...e,selectError:{isError:!0,message:"Please select a option"}}):e=>({...e,selectError:{isError:!1}}))},children:[(0,c.jsx)("option",{selected:!0,value:"",children:"Select Activity"}),N.length&&(null===N||void 0===N?void 0:N.map((e=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.activityName})}))))]}),(null===f||void 0===f||null===(s=f.selectError)||void 0===s?void 0:s.isError)&&(0,c.jsx)("p",{className:"text-danger",children:null===f||void 0===f||null===(o=f.selectError)||void 0===o?void 0:o.message})]})}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-6 m-b30",children:[(0,c.jsxs)("label",{className:"form-label",children:["Enter Sub Activity Name",(0,c.jsx)("sup",{className:"mandatesign",children:"*"})]}),(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>(e=>{let l=e.target.value;p(l),l.trim().length<=3?g({...f,nameError:{isError:!0,message:"Please enter more than 3 characters"}}):g({...f,nameError:{isError:!1}})})(e)}),(null===f||void 0===f||null===(v=f.nameError)||void 0===v?void 0:v.isError)&&(0,c.jsx)("p",{className:"text-danger",children:null===f||void 0===f||null===(m=f.nameError)||void 0===m?void 0:m.message})]}),(0,c.jsxs)("div",{className:"col-md-6 m-b30",children:[(0,c.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Upload Image (Please upload a 20px * 20px image.)"}),(0,c.jsx)("input",{className:"form-control",type:"file",id:"formFile",onChange:e=>{const l=e.target.files[0];if(y(l),l){["image/jpeg","image/png","image/gif"].includes(l.type)?l.size>2097152?g((e=>({...e,fileError:{isError:!0,message:"File size must be under 2MB."}}))):g((e=>({...e,fileError:{isError:!1}}))):g((e=>({...e,fileError:{isError:!0,message:"Only JPEG, PNG, or GIF files are allowed."}})))}else g((e=>({...e,fileError:{isError:!0,message:"Please upload a file."}})))}}),(null===f||void 0===f||null===(u=f.fileError)||void 0===u?void 0:u.isError)&&(0,c.jsx)("p",{className:"text-danger",children:null===f||void 0===f||null===(h=f.fileError)||void 0===h?void 0:h.message})]}),(0,c.jsxs)("div",{className:"col-md-2 m-b30 pt-3",children:[(0,c.jsx)("button",{disabled:!C,type:"submit",className:"btn btn-primary rounded",children:"Save"}),(0,c.jsx)("button",{className:"d-none",id:"resetSub",type:"reset",children:"r"})]})]})]})}),(0,c.jsx)("div",{className:"col-xl-12 pt-4",children:(0,c.jsx)("div",{className:"card dz-card",id:"bootstrap-table1",children:(0,c.jsxs)("div",{className:"col-12 card-body position-relative card-body-2",children:[(0,c.jsx)("div",{className:"card_title_container",children:(0,c.jsx)("h4",{className:"card-title",children:"SUB ACTIVITY LIST"})}),(0,c.jsx)("div",{className:"search_icon",children:(0,c.jsx)("i",{class:"fa-solid fa-magnifying-glass"})}),(0,c.jsx)("div",{className:"table-responsive mdb_table",children:(0,c.jsx)(t.g6D,{bordered:!0,displayEntries:!1,entries:10,className:"text-nowrap",hover:!0,data:A,noBottomColumns:!0,sortable:!0,paginationLabel:"\xab\xbb"})})]})})})]})},u=()=>{const[e,l]=(0,a.useState)("activity");return(0,c.jsx)(s.A,{activeSlide:"Activities",children:(0,c.jsx)("div",{className:"content-body",children:(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12 wid-100",children:(0,c.jsxs)("div",{className:"card dz-card",id:"bootstrap-table1",children:[(0,c.jsx)("div",{className:"card-header flex-wrap border-0",children:(0,c.jsx)("div",{children:(0,c.jsx)("h4",{className:"card-title",children:"ACTIVITIES MANAGEMENT"})})}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[(0,c.jsx)("li",{className:"nav-item",role:"presentation",children:(0,c.jsx)("button",{className:"nav-link ".concat("activity"===e?"active":""),id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"activity"===e,onClick:()=>l("activity"),children:"Activity"})}),(0,c.jsx)("li",{className:"nav-item",role:"presentation",children:(0,c.jsx)("button",{className:"nav-link ".concat("subActivity"===e?"active":""),id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"subActivity"===e,onClick:()=>l("subActivity"),children:"Sub Activity"})})]}),(0,c.jsxs)("div",{className:"tab-content",id:"pills-tabContent",children:[(0,c.jsx)("div",{className:"tab-pane fade ".concat("activity"===e?"show active":""),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab",tabIndex:0,children:"activity"===e&&(0,c.jsx)(v,{})}),(0,c.jsx)("div",{className:"tab-pane fade ".concat("subActivity"===e?"show active":""),id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab",tabIndex:0,children:"subActivity"===e&&(0,c.jsx)(m,{})})]})]})]})})})})})})}}}]);
//# sourceMappingURL=542.3233a722.chunk.js.map