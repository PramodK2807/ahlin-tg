(self.webpackChunkahlin=self.webpackChunkahlin||[]).push([[573],{4573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(5043),o=n(5237),a=n.n(o),s=n(3216),i=n(7528),c=n(579);const l=()=>{const[e,t]=(0,r.useState)("Email"),[n,l]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),m=(0,s.Zp)(),p=async()=>{console.log(n);try{let{data:e}=await(0,i.un)({email:n});!e||null!==e&&void 0!==e&&e.error||(console.log(e),t("OTP"))}catch(e){console.log(e)}};return(0,c.jsx)("div",{className:"authincation h-100",children:(0,c.jsx)("div",{className:"container-fluid h-100",children:(0,c.jsxs)("div",{className:"row h-100",children:[(0,c.jsxs)("div",{className:"col-lg-6 col-md-7 col-sm-12 mx-auto align-self-center",children:["Email"===e&&(0,c.jsxs)("div",{className:"login-form",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h3",{className:"title",children:"Forgot password"}),(0,c.jsx)("p",{children:"Please enter your registered Email Address to receive the OTP"})]}),(0,c.jsxs)("form",{children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"mb-1 text-dark",children:"Email"}),(0,c.jsx)("input",{type:"email",className:" form-control",onChange:e=>l(e.target.value),value:n,placeholder:"example@gmail.com"})]}),(0,c.jsx)("div",{className:"text-center mb-4",children:(0,c.jsx)("button",{onClick:p,className:"btn btn-primary btn-block",type:"button",children:"Submit"})})]})]}),"OTP"===e&&(0,c.jsxs)("div",{className:"login-form",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h3",{className:"title",children:"Verification"}),(0,c.jsx)("p",{children:"Please enter the OTP received on your Email Address"})]}),(0,c.jsxs)("form",{action:!0,children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"mb-1 text-dark",children:"OTP"}),(0,c.jsx)(a(),{value:u,onChange:d,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1,secure:!0})]}),(0,c.jsx)("div",{className:"text-center mb-4",children:(0,c.jsx)("button",{type:"button",onClick:async()=>{console.log(n);try{let{data:e}=await(0,i.c)({email:n,otp:u});!e||null!==e&&void 0!==e&&e.error||(console.log(e),m("/reset-password"))}catch(e){console.log(e)}},disabled:4===!u.length,className:"btn btn-primary btn-block",children:"Confirm"})}),(0,c.jsx)("h6",{className:"login-title",children:(0,c.jsx)("span",{children:(0,c.jsx)(o.ResendOTP,{renderButton:e=>(0,c.jsx)("button",{...e,style:{textAlign:"center",color:"#888888",border:"none",background:"transparent",marginLeft:"5px"},children:"Resend OTP"}),renderTime:e=>(0,c.jsxs)("span",{children:["Didn't received the OTP? Wait ",e," seconds"]}),maxTime:10,onResendClick:p})})})]})]})]}),(0,c.jsx)("div",{className:"col-xl-6 col-lg-6",children:(0,c.jsx)("div",{className:"authincation_bg"})})]})})})}},5916:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7154);r.A.defaults.headers.common["x-auth-token-admin"]=localStorage.getItem("ahl-admin-token"),r.A.interceptors.request.use((async e=>(e.headers["x-auth-token-admin"]=await localStorage.getItem("ahl-admin-token"),e))),r.A.interceptors.response.use(null,(e=>{e.response&&e.response.status>=400&&e.response.status;return Promise.reject(e)}));const o={get:r.A.get,post:r.A.post,put:r.A.put,delete:r.A.delete,patch:r.A.patch}},7528:(e,t,n)=>{"use strict";n.d(t,{IU:()=>l,c:()=>c,ly:()=>s,un:()=>i});var r=n(64),o=n.n(r),a=n(5916);async function s(e){try{const{data:t,headers:n}=await a.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:5001","/api/admin/login"),e);if(console.log(n),null===t||void 0===t||!t.error)return await localStorage.setItem("ahl-admin-token",n["x-auth-token-admin"]),o().fire({toast:!0,icon:"success",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:t};o().fire({toast:!0,icon:"error",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(t){return t.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:t}}}async function i(e){try{const{data:t}=await a.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:5001","/api/admin/forgetPassword"),e);if(null===t||void 0===t||!t.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:t};o().fire({toast:!0,icon:"error",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(t){return t.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:t}}}async function c(e){try{const{data:t}=await a.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:5001","/api/admin/verifyOtp"),e);if(null===t||void 0===t||!t.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:t};o().fire({toast:!0,icon:"error",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(t){return t.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:t}}}async function l(e){try{const{data:t}=await a.A.put("".concat("http://ec2-52-66-186-107.ap-south-1.compute.amazonaws.com:5001","/api/admin/resetPassword"),e);if(null===t||void 0===t||!t.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:t};o().fire({toast:!0,icon:"error",position:"top-end",title:t.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(t){return t.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:t}}}},5237:(e,t,n)=>{var r;window,e.exports=(r=n(5043),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/otp-input-react/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.r(t);var s=n(0),i=n.n(s);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(e){var t=e.maxTime,n=e.onTimerComplete,r=e.timeInterval,o=e.onResendClick,a=Object(s.useRef)(),i=c(Object(s.useState)(t),2),l=i[0],u=i[1];return Object(s.useEffect)((function(){return a.current&&0===l?(clearTimeout(a.current),n&&n()):a.current=setTimeout((function(){u((function(e){return e-1}))}),r),function(){clearTimeout(a.current)}}),[n,l,r]),{handelResendClick:function(){o&&o(0===l),u(t)},remainingTime:l}};function u(e){var t=e.renderTime,n=e.renderButton,r=e.style,s=e.className,c=a(e,["renderTime","renderButton","style","className"]),u=l(c),d=u.remainingTime,m=u.handelResendClick;return i.a.createElement("div",{className:s||"","data-testid":"otp-resend-root",style:o({display:"flex",justifyContent:"space-between"},r)},t?t(d):i.a.createElement("span",null,d," sec"),n?n({disabled:0!==d,onClick:m,remainingTime:d}):i.a.createElement("button",{disabled:0!==d,onClick:m,type:"button"},"Resend OTP"))}u.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var d=u,m={width:32,height:32,textAlign:"center",marginRight:20},p=i.a.memo((function(e){var t=e.focus,n=e.autoFocus,r=e.disabled,c=e.value,l=e.onInputFocus,u=e.index,d=e.secure,p=e.inputStyles,f=e.otpType,h=a(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),g=Object(s.useRef)(null),v=Object(s.useRef)(!1);Object(s.useEffect)((function(){n&&t&&g.current.focus()}),[]),Object(s.useEffect)((function(){v.current&&t&&g.current.focus(),v.current=!0}),[t]);var b="text";return d?b="password":"number"===f&&(b="tel"),i.a.createElement("input",Object.assign({style:o({},m,p),type:b,maxLength:"1",ref:g,disabled:r,onFocus:function(e){return l(u,e)},value:c||""},h))})),f=function(e){var t=e.autoFocus,n=e.value,r=e.otpType,o=e.onChange,a=e.OTPLength,i=c(Object(s.useState)(t?0:-1),2),l=i[0],u=i[1],d=function(){return n?n.toString().split(""):[]},m=function(e){var t=e.join("");o(t)},p=function(){!function(e){var t=Math.max(Math.min(a-1,e),0);u(t)}("next"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next")?l+1:l-1)},f=function(e){var t=c(e,1)[0],n=d();n[l]=t,m(n)},h=function(e){switch(r){case"number":return!(e.charCodeAt(0)>57||e.charCodeAt(0)<48);case"alpha":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<65);case"alphanumeric":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<48);default:return!0}};return{activeInput:l,getOtpValue:d,handleOnChange:function(e){h(e.target.value)&&(f(e.target.value),p("next"))},handleOnKeyDown:function(e){switch(e.key){case"Backspace":e.preventDefault(),f(""),p("prev");break;case"Delete":e.preventDefault(),f("");break;case"ArrowLeft":e.preventDefault(),p("prev");break;case"ArrowRight":e.preventDefault(),p("next")}},handelOnInput:function(e){e.target.value.length>1&&(e.preventDefault(),p("next"))},handleOnPaste:function(e,t){e.preventDefault();for(var n=d(),r=e.clipboardData.getData("text/plain").slice(0,a-l).split(""),o=0;o<a;++o)o>=l&&r.length>0&&(n[o]=r.shift());for(var s=[n.length],i=0,c=0;c<n.length;++c)h(n[c])&&(s[i]=n[c],i++);m(s)},onInputFocus:function(e,t){u(e),t.target.select()}}},h=function(e){var t=e.OTPLength,n=e.disabled,r=e.autoFocus,a=e.value,c=void 0===a?"":a,l=e.onChange,u=e.otpType,d=e.secure,m=e.className,h=e.inputClassName,g=e.inputStyles,v=e.style,b=e.placeholder,y=f({autoFocus:r,value:c,otpType:u,onChange:l,OTPLength:t}),x=y.activeInput,j=y.getOtpValue,O=y.handleOnChange,w=y.handleOnKeyDown,P=y.handelOnInput,C=y.handleOnPaste,T=y.onInputFocus,k=Object(s.useMemo)((function(){for(var e=j(),o=[],a=0;a<t;a++)o.push(i.a.createElement(p,{className:h,inputStyles:g,key:a,focus:x===a,value:e[a],onChange:O,onKeyDown:w,onInput:P,onPaste:C,onInputFocus:T,index:a,disabled:n,autoFocus:r,secure:d,"data-testid":"input",otpType:u,placeholder:b&&b[a]}));return o}),[j,t,h,g,x,O,w,P,C,T,n,r,d,u,b]);return i.a.createElement("div",{style:o({display:"flex"},v),className:"".concat(m),"data-testid":"otp-input-root"},k)};h.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var g=h;n.d(t,"ResendOTP",(function(){return d})),n.d(t,"default",(function(){return g}))}]))}}]);
//# sourceMappingURL=573.e1ce609c.chunk.js.map