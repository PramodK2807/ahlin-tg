{"version":3,"file":"static/js/812.91808420.chunk.js","mappings":"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","sources":["Components/Subscription/SubscriptionManag.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../Layout/Layout\";\r\nimport { MDBDataTable } from \"mdbreact\";\r\nimport {\r\n  ChangeSubscriptionStatus,\r\n  DeleteSubscription,\r\n  GetAllSubscription,\r\n} from \"../../adminHttpServices/dashHttpService\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\nconst SubscriptionManag = () => {\r\n  const [subscriptionM, setSubscriptionM] = useState({\r\n    columns: [\r\n      {\r\n        label: \"S.No.\",\r\n        field: \"sno\",\r\n        width: 50,\r\n        selected: false,\r\n      },\r\n      {\r\n        label: \"Subscription Name \",\r\n        field: \"name\",\r\n        width: 50,\r\n        selected: false,\r\n      },\r\n      {\r\n        label: \"Plan cost\",\r\n        field: \"cost\",\r\n        width: 50,\r\n        selected: false,\r\n      },\r\n      {\r\n        label: \" Number of Subscribers\",\r\n        field: \"number\",\r\n        width: 50,\r\n        selected: false,\r\n      },\r\n      {\r\n        label: \"Status\",\r\n        field: \"status\",\r\n        width: 50,\r\n        selected: false,\r\n      },\r\n\r\n      {\r\n        label: \"Actions\",\r\n        field: \"actions\",\r\n        width: 100,\r\n        selected: false,\r\n      },\r\n    ],\r\n    rows: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    getSubscription();\r\n  }, []);\r\n\r\n  const getSubscription = async () => {\r\n    let { data } = await GetAllSubscription();\r\n    console.warn(data);\r\n    if (data && !data?.error) {\r\n      const newRows = [];\r\n      let values = data?.results?.groupedPlan[0]?.plan;\r\n      values\r\n        ?.sort((a, b) => new Date(b?.updatedAt) - new Date(a?.updatedAt))\r\n        ?.map((list, index) => {\r\n          const returnData = {};\r\n          returnData.sno = index + 1;\r\n          returnData.name = list?.plan || \"NA\";\r\n          returnData.date = moment(list?.createdAt).format(\"Do MMMM YYYY\");\r\n          returnData.cost = list?.price || \"NA\";\r\n          returnData.number = list?.number || \"0\";\r\n\r\n          returnData.status = (\r\n            <div className=\"check_toggle text-center\" key={list?._id}>\r\n              <input\r\n                type=\"checkbox\"\r\n                defaultChecked={list?.status}\r\n                name=\"check1\"\r\n                id={list?._id}\r\n                className=\"d-none\"\r\n                onClick={() => {\r\n                  changeStatus(list?._id, list?.status);\r\n                }}\r\n              />\r\n              <label for={list?._id}></label>\r\n            </div>\r\n          );\r\n          returnData.actions = (\r\n            <div className=\"d-flex\">\r\n              {/* <Link\r\n                to={`/Subscription-Management/Details/${list?._id}`}\r\n                state={{\r\n                  title: \"Edit Subscription Details\",\r\n                  isEdit: true,\r\n                  data: list,\r\n                }}\r\n                className=\"btn btn-primary shadow btn-xs sharp me-2\"\r\n              >\r\n                <i className=\"fa fa-edit\"></i>\r\n              </Link> */}\r\n              <Link\r\n                to={`/Subscription-Management/Details/${list?._id}`}\r\n                state={{\r\n                  title: \"View Subscription Details\",\r\n                  isEdit: false,\r\n                  data: list,\r\n                }}\r\n                // state={list}\r\n                className=\"btn btn-primary shadow btn-xs sharp me-2\"\r\n              >\r\n                <i className=\"fa fa-eye\"></i>\r\n              </Link>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => handleDeleteItem(list?._id)}\r\n                className=\"btn btn-danger shadow btn-xs sharp\"\r\n              >\r\n                <i className=\"fa fa-trash\"></i>\r\n              </button>\r\n            </div>\r\n          );\r\n\r\n          newRows.push(returnData);\r\n        });\r\n      setSubscriptionM({ ...subscriptionM, rows: newRows });\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (id) => {\r\n    try {\r\n      let { data } = await DeleteSubscription(id);\r\n      if (data && !data.error) {\r\n        getSubscription();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const changeStatus = async (id) => {\r\n    try {\r\n      let { data } = await ChangeSubscriptionStatus(id);\r\n      if (data && !data.error) {\r\n        getSubscription();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <Layout activeSlide={\"Subscription\"}>\r\n      <div className=\"content-body\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xl-12 pt-4\">\r\n              <div className=\"card dz-card\" id=\"bootstrap-table1\">\r\n                <div className=\"d-flex align-items-center justify-content-end mt-2 me-2\">\r\n                  {/* <Link\r\n                    to={\"/Add-Subscription\"}\r\n                    state={{ title: \"Add Subscription\", data: null }}\r\n                    className=\"btn btn-primary \"\r\n                    style={{ width: \"200px\" }}\r\n                  >\r\n                    Add New Subscription\r\n                  </Link> */}\r\n                </div>\r\n\r\n                <div className=\"col-12 card-body position-relative card-body-2\">\r\n                  <div className=\"card_title_container\">\r\n                    <h4 className=\"card-title\">Subscription Plan Management</h4>\r\n                  </div>\r\n                  <div className=\"search_icon\">\r\n                    <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                  </div>\r\n                  <div className=\"d-flex filter_modal\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn filter_manage px-3 py-2\"\r\n                      data-bs-toggle=\"modal\"\r\n                      data-bs-target=\"#exampleModal\"\r\n                      data-bs-whatever=\"@mdo\"\r\n                    >\r\n                      <i className=\"fa-solid fa-filter\" />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"table-responsive mdb_table\">\r\n                    <MDBDataTable\r\n                      bordered\r\n                      displayEntries={false}\r\n                      entries={10}\r\n                      className=\"text-nowrap\"\r\n                      hover\r\n                      data={subscriptionM}\r\n                      noBottomColumns\r\n                      sortable={true}\r\n                      paginationLabel={\"«»\"}\r\n                      // navigate to view ==== /Dashboard/Guests-Details/:123\r\n                    />\r\n                  </div>\r\n                  <div className=\"table-responsive mdb_table\"></div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"modal fade\"\r\n          id=\"exampleModal\"\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"exampleModalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <h1 class=\"modal-title fs-3 fw-semibold\" id=\"exampleModalLabel\">\r\n                  Filter\r\n                </h1>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-7 pt-2\">\r\n                    <label for=\"message-text\" class=\"col-form-label\">\r\n                      Status\r\n                    </label>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                      <div class=\"form-check\">\r\n                        <input\r\n                          class=\"form-check-input\"\r\n                          type=\"radio\"\r\n                          name=\"flexRadioDefault\"\r\n                          id=\"flexRadioDefault1\"\r\n                        />\r\n                        <label class=\"form-check-label\" for=\"flexRadioDefault1\">\r\n                          Active\r\n                        </label>\r\n                      </div>\r\n                      <div class=\"form-check ms-4\">\r\n                        <input\r\n                          class=\"form-check-input\"\r\n                          type=\"radio\"\r\n                          name=\"flexRadioDefault\"\r\n                          id=\"flexRadioDefault2\"\r\n                          checked\r\n                        />\r\n                        <label class=\"form-check-label\" for=\"flexRadioDefault2\">\r\n                          Inactive\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary me-5\"\r\n                  data-bs-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-primary\">\r\n                  Save\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default SubscriptionManag;\r\n"],"names":["SubscriptionManag","subscriptionM","setSubscriptionM","useState","columns","label","field","width","selected","rows","useEffect","getSubscription","async","data","GetAllSubscription","console","warn","error","_data$results","_data$results$grouped","_values$sort","newRows","values","results","groupedPlan","plan","sort","a","b","Date","updatedAt","map","list","index","returnData","sno","name","date","moment","createdAt","format","cost","price","number","status","_jsxs","className","children","_jsx","type","defaultChecked","id","_id","onClick","changeStatus","for","actions","Link","to","concat","state","title","isEdit","handleDeleteItem","push","DeleteSubscription","log","ChangeSubscriptionStatus","Layout","activeSlide","class","MDBDataTable","bordered","displayEntries","entries","hover","noBottomColumns","sortable","paginationLabel","tabindex","checked"],"sourceRoot":""}