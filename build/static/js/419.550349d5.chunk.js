"use strict";(self.webpackChunkahlin=self.webpackChunkahlin||[]).push([[419],{8419:(e,l,s)=>{s.r(l),s.d(l,{default:()=>v});var a=s(8365),d=s(5043),t=s(6068),i=s(4299),o=s(6178),n=s.n(o),c=s(5475),r=s(64),m=s.n(r),u=s(579);const v=()=>{const[e,l]=(0,d.useState)(),[s,o]=(0,d.useState)({from:"",to:"",status:""}),[r,v]=(0,d.useState)({columns:[{label:"S.No.",field:"sno",width:50,selected:!1},{label:"User Name",field:"name",width:50,selected:!1},{label:"User Type",field:"type",width:50,selected:!1},{label:"Booking Id",field:"id",width:50,selected:!1},{label:"Date",field:"date",width:50,selected:!1},{label:"Query",field:"query",width:50,selected:!1},{label:"Status",field:"status",width:50,selected:!1},{label:"Actions",field:"actions",width:100,selected:!1}],rows:[]});(0,d.useEffect)((()=>{h()}),[]);const h=async()=>{let{data:e}=await(0,i.Go)(s);if(console.warn(e),e&&(null===e||void 0===e||!e.error)){var a;const s=[];let d=null===e||void 0===e?void 0:e.results;null===d||void 0===d||null===(a=d.sort(((e,l)=>new Date(null===l||void 0===l?void 0:l.updatedAt)-new Date(null===e||void 0===e?void 0:e.updatedAt))))||void 0===a||a.map(((e,a)=>{var d,t,i;const o={};o.sno=a+1,o.id=(null===e||void 0===e?void 0:e.tripId)||"NA",o.name=(null===e||void 0===e||null===(d=e.guest)||void 0===d?void 0:d.fullName)||(null===e||void 0===e||null===(t=e.local)||void 0===t?void 0:t.fullName)||(null===e||void 0===e||null===(i=e.guest)||void 0===i?void 0:i.fullName),o.noOfGuests=(null===e||void 0===e?void 0:e.noGuest)||"NA",o.status=null!==e&&void 0!==e&&e.status&&"solve"===(null===e||void 0===e?void 0:e.status)?(0,u.jsx)("span",{className:"badge light badge-success",children:"Solved"}):"pending"===(null===e||void 0===e?void 0:e.status)?(0,u.jsx)("span",{className:"badge light badge-warning",children:"Pending"}):"Inprogress"===(null===e||void 0===e?void 0:e.status)?(0,u.jsx)("span",{className:"badge light badge-info",children:"In Progress"}):null===e||void 0===e?void 0:e.status,o.date=n()(null===e||void 0===e?void 0:e.createdAt).format("MMM Do YYYY")||"NA",o.query=null===e||void 0===e?void 0:e.concern,o.type=null===e||void 0===e?void 0:e.type,o.actions=(0,u.jsx)("div",{className:"d-flex",children:(0,u.jsx)(c.N_,{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",className:"btn btn-primary shadow btn-xs sharp me-2",onClick:()=>l({concern:null===e||void 0===e?void 0:e.concern,status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e._id,subject:null===e||void 0===e?void 0:e.subject}),children:(0,u.jsx)("i",{className:"fa fa-eye"})})}),s.push(o)})),v({...r,rows:s})}};return(0,u.jsxs)(t.A,{activeSlide:"Help",children:[(0,u.jsx)("div",{className:"content-body",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-xl-12 pt-4",children:(0,u.jsxs)("div",{className:"card dz-card",id:"bootstrap-table1",children:[(0,u.jsxs)("div",{className:"col-12 card-body position-relative card-body-2",children:[(0,u.jsx)("div",{className:"d-flex card_title_container",children:(0,u.jsx)("h4",{className:"card-title",children:"Help & Support Management"})}),(0,u.jsx)("div",{className:"search_icon",children:(0,u.jsx)("i",{class:"fa-solid fa-magnifying-glass"})}),(0,u.jsx)("div",{className:"d-flex filter_modal",children:(0,u.jsx)("button",{type:"button",className:"btn filter_manage px-3 py-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal","data-bs-whatever":"@mdo",children:(0,u.jsx)("i",{className:"fa-solid fa-filter"})})}),(0,u.jsx)("div",{className:"table-responsive mdb_table",children:(0,u.jsx)(a.g6D,{bordered:!0,displayEntries:!0,entries:10,className:"text-nowrap",hover:!0,data:r,noBottomColumns:!0,sortable:!0,paginationLabel:"\xab\xbb"})}),(0,u.jsx)("div",{className:"table-responsive mdb_table2"})]}),(0,u.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h1",{className:"modal-title fs-3 fw-semibold",id:"exampleModalLabel",children:"Filter"}),(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,u.jsx)("div",{className:"modal-body",children:(0,u.jsxs)("form",{children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"recipient-name",className:"col-form-label",children:"From:"}),(0,u.jsx)("div",{className:"searchh_box",children:(0,u.jsx)("div",{children:(0,u.jsx)("input",{className:"form-control ps-3",type:"date",value:null===s||void 0===s?void 0:s.to,onChange:e=>o({...s,to:e.target.value})})})})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"recipient-name",className:"col-form-label",children:"To:"}),(0,u.jsx)("div",{className:"searchh_box",children:(0,u.jsx)("div",{children:(0,u.jsx)("input",{className:"form-control ps-3",type:"date",value:null===s||void 0===s?void 0:s.from,onChange:e=>o({...s,from:e.target.value})})})})]})}),(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsx)("label",{htmlFor:"message-text",className:"col-form-label",children:"Status"}),(0,u.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onClick:()=>o({...s,status:"active"})}),(0,u.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:"Active"})]}),(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onClick:()=>o({...s,status:"inActive"})}),(0,u.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault2",children:"InActive"})]})]})]})]}),(0,u.jsxs)("div",{className:"modal-footer p-0 pt-2",children:[(0,u.jsx)("button",{type:"reset",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>o({from:"",to:"",status:"",canceledBy:""}),children:"Close"}),(0,u.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Save"})]})]})})]})})})]})})})})}),(0,u.jsx)("div",{class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,u.jsx)("div",{class:"modal-dialog modal-dialog-center",children:(0,u.jsxs)("div",{class:"modal-content",children:[(0,u.jsxs)("div",{class:"modal-header",children:[(0,u.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:"Query"}),(0,u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"closeQueryModal"})]}),(0,u.jsx)("div",{class:"modal-body",children:(0,u.jsxs)("div",{class:"row",children:[(0,u.jsxs)("div",{class:"col-xl-12 mb-4",children:[(0,u.jsx)("label",{class:"form-label",children:"Query"}),(0,u.jsx)("textarea",{className:"form-control",style:{minHeight:"120px"},value:null===e||void 0===e?void 0:e.subject,disabled:!0})]}),(0,u.jsxs)("div",{class:"col-xl-12",children:[(0,u.jsx)("label",{class:"form-label",children:"Update Status"}),(0,u.jsxs)("select",{class:"form-select form-control","aria-label":"Default select example",onChange:s=>l({...e,status:s.target.value}),children:[(0,u.jsx)("option",{selected:"Inprogress"===(null===e||void 0===e?void 0:e.status),value:"Inprogress",children:"In Progress"}),(0,u.jsx)("option",{selected:"solve"===(null===e||void 0===e?void 0:e.status),value:"solve",children:"Solve"}),(0,u.jsx)("option",{selected:"pending"===(null===e||void 0===e?void 0:e.status),value:"pending",children:"Pending"})]})]})]})}),(0,u.jsxs)("div",{class:"modal-footer",children:["solve"!==(null===e||void 0===e?void 0:e.status)&&(0,u.jsx)("button",{type:"button",onClick:async s=>{s.preventDefault();try{let{data:s}=await(0,i.vG)(null===e||void 0===e?void 0:e.id,{status:null===e||void 0===e?void 0:e.status});!s||null!==s&&void 0!==s&&s.error||(m().fire({toast:!0,icon:"success",position:"top-end",title:"Ticket status changed successfully",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),h(),l(),document.getElementById("closeQueryModal").click())}catch(a){console.log(a)}},class:"btn btn-primary",children:"Save"}),(0,u.jsx)("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-secondary",children:"Close"})]})]})})})]})}}}]);
//# sourceMappingURL=419.550349d5.chunk.js.map