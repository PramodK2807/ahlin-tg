"use strict";(self.webpackChunkahlin=self.webpackChunkahlin||[]).push([[217],{9217:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var t=r(5043),o=r(4858),a=r(7528),i=r(3216),n=r(579);const c=()=>{const[e,s]=(0,t.useState)(!1),[r,c]=(0,t.useState)(!1),l=(0,i.Zp)(),d=(0,i.zy)();console.log(d);const{register:m,handleSubmit:p,watch:h,formState:{errors:u,isValid:f}}=(0,o.mN)({mode:"onChange"}),w=h("password");return(0,n.jsx)("div",{className:"authincation h-100",children:(0,n.jsx)("div",{className:"container-fluid h-100",children:(0,n.jsxs)("div",{className:"row h-100",children:[(0,n.jsx)("div",{className:"col-lg-6 col-md-7 col-sm-12 mx-auto align-self-center",children:(0,n.jsxs)("div",{className:"login-form",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h3",{className:"title",children:"Reset Password"}),(0,n.jsx)("p",{children:"Enter New Password"})]}),(0,n.jsxs)("form",{onSubmit:p((async e=>{try{let{data:s}=await(0,a.IU)({newPassword:null===e||void 0===e?void 0:e.password,email:null===d||void 0===d?void 0:d.state});!s||null!==s&&void 0!==s&&s.error||l("/login"),console.log(s)}catch(s){console.log(s)}})),children:[(0,n.jsxs)("div",{className:"mb-4 position-relative",children:[(0,n.jsx)("label",{className:"mb-1 text-dark",children:"New Password"}),(0,n.jsx)("input",{type:e?"text":"password",className:"form-control ".concat(u.password?"is-invalid":""),...m("password",{required:"* Please Enter Your Password",pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"* Minimum 8 characters, One Uppercase, One Lowercase & One Special Character Allowed"}})}),(null===u||void 0===u?void 0:u.password)&&(0,n.jsx)("p",{className:"errorText mt-1",children:u.password.message}),(0,n.jsxs)("span",{onClick:()=>s(!e),className:"show-pass eye",children:[(0,n.jsx)("i",{className:"fa fa-eye-slash"}),(0,n.jsx)("i",{className:"fa fa-eye"})]})]}),(0,n.jsxs)("div",{className:"mb-4 position-relative",children:[(0,n.jsx)("label",{className:"mb-1 text-dark",children:"Confirm New Password"}),(0,n.jsx)("input",{type:r?"text":"password",className:"form-control ".concat(u.cpassword?"is-invalid":""),...m("cpassword",{required:"* Enter password again",validate:e=>e===w||"Password does not match"})}),(null===u||void 0===u?void 0:u.cpassword)&&(0,n.jsx)("p",{className:"errorText mt-1",children:u.cpassword.message})," ",(0,n.jsxs)("span",{onClick:()=>c(!r),className:"show-pass eye",children:[(0,n.jsx)("i",{className:"fa fa-eye-slash"}),(0,n.jsx)("i",{className:"fa fa-eye"})]})]}),(0,n.jsx)("div",{className:"text-center mb-4",children:(0,n.jsx)("button",{disabled:!f,type:"submit",className:"btn btn-primary btn-block",children:"Save"})})]})]})}),(0,n.jsx)("div",{className:"col-xl-6 col-lg-6",children:(0,n.jsx)("div",{className:"authincation_bg"})})]})})})}},7528:(e,s,r)=>{r.d(s,{IU:()=>l,c:()=>c,ly:()=>i,un:()=>n});var t=r(64),o=r.n(t),a=r(6097);async function i(e){try{const{data:s,headers:r}=await a.A.put("".concat("https://admin.ahlain.co:2053","/api/admin/login"),e);if(console.log(r),null===s||void 0===s||!s.error)return await localStorage.setItem("ahl-admin-token",r["x-auth-token-admin"]),o().fire({toast:!0,icon:"success",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:s};o().fire({toast:!0,icon:"error",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(s){return s.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:s}}}async function n(e){try{const{data:s}=await a.A.put("".concat("https://admin.ahlain.co:2053","/api/admin/forgetPassword"),e);if(null===s||void 0===s||!s.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:s};o().fire({toast:!0,icon:"error",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(s){return s.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:s}}}async function c(e){try{const{data:s}=await a.A.put("".concat("https://admin.ahlain.co:2053","/api/admin/verifyOtp"),e);if(null===s||void 0===s||!s.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:s};o().fire({toast:!0,icon:"error",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(s){return s.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:s}}}async function l(e){try{const{data:s}=await a.A.put("".concat("https://admin.ahlain.co:2053","/api/admin/resetPassword"),e);if(null===s||void 0===s||!s.error)return o().fire({toast:!0,icon:"success",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{data:s};o().fire({toast:!0,icon:"error",position:"top-end",title:s.message,showConfirmButton:!1,timerProgressBar:!0,timer:3e3})}catch(s){return s.response&&o().fire({toast:!0,icon:"error",position:"top-end",title:"error",showConfirmButton:!1,timerProgressBar:!0,timer:3e3}),{error:s}}}}}]);
//# sourceMappingURL=217.80f92f1c.chunk.js.map